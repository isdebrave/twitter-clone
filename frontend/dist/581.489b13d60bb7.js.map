{"version":3,"file":"581.489b13d60bb7.js","mappings":"8aAyFA,QA5EiB,WACT,IAAAA,GAAsBC,EAAAA,EAAAA,UAAmB,IAAxCC,EAAMF,EAAA,GAAEG,EAASH,EAAA,GAClBI,GAAYC,EAAAA,EAAAA,QAAe,MAE3BC,GAAOC,EAAAA,EAAAA,KAAY,SAACC,GAAqB,OAAAA,EAAMF,IAAN,IACzCG,GAAQF,EAAAA,EAAAA,KAAY,SAACC,GAAqB,OAAAA,EAAMC,KAAN,IAC1CC,GAAUH,EAAAA,EAAAA,KAAY,SAACC,GAAqB,OAAAA,EAAME,OAAN,IAE1CC,GAAWC,EAAAA,EAAAA,MAAWD,OACxBE,GAAWC,EAAAA,EAAAA,MA6BjB,OA3BAC,EAAAA,EAAAA,YAAU,WAER,IAAIC,EAA8BV,EAGP,IAAvBU,EAAKd,OAAOe,QAAgBN,IAAWK,EAAKE,KAC9CF,EAAOP,EAAMU,MAAK,SAACb,GAAS,OAAAA,EAAKY,KAAOP,CAAZ,KAIzBK,IACHA,EAAON,EAAQD,MAAMU,MAAK,SAACb,GAAS,OAAAA,EAAKY,KAAOP,CAAZ,KAGlCK,GACFb,EAAUa,EAAKd,OAEnB,GAAG,CAACI,EAAMK,EAAQF,EAAOC,EAAQD,QAW/BW,EAAAA,cAAA,OAAKC,UAAU,+BACbD,EAAAA,cAAA,UACEC,UAAU,iCACVC,QAAS,WAAM,OAAAT,GAAU,EAAV,GAEfO,EAAAA,cAACG,EAAAA,IAAO,CAACF,UAAU,aAAaG,KAAM,MAGvCtB,EAAOe,OAAS,GACfG,EAAAA,cAAA,UACEC,UAAU,oDACVC,QAAS,eAAAtB,EAAM,OAAiB,QAAjBA,EAAAI,EAAUqB,eAAO,IAAAzB,OAAA,EAAAA,EAAE0B,WAAW,GAE7CN,EAAAA,cAACO,EAAAA,IAAW,CAACN,UAAU,aAAaG,KAAM,MAI9CJ,EAAAA,cAACQ,EAAAA,EAAMC,EAAA,CAACC,IAAK1B,GA1BA,CACf2B,UAAU,EACVC,MAAO,IACPC,eAAgB,EAChBC,aAAc,EACdC,OAAO,IAsBFjC,EAAOkC,KAAI,SAACC,EAAKC,GAAQ,OACxBlB,EAAAA,cAAA,MAAImB,IAAKF,EAAMC,GACblB,EAAAA,cAAA,OAAKiB,IAAK,GAAAG,OAAGC,EAAAA,QAAMC,SAASC,QAAO,KAAAH,OAAIH,GAAOO,IAAI,cAF5B,KAO3B1C,EAAOe,OAAS,GACfG,EAAAA,cAAA,UACEC,UAAU,qDACVC,QAAS,eAAAtB,EAAM,OAAiB,QAAjBA,EAAAI,EAAUqB,eAAO,IAAAzB,OAAA,EAAAA,EAAE6C,WAAW,GAE7CzB,EAAAA,cAAC0B,EAAAA,IAAc,CAACzB,UAAU,aAAaG,KAAM,MAKvD,C","sources":["webpack://twitter-clone/./src/pages/Carousel.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport Slider from \"react-slick\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { IoClose, IoArrowBack, IoArrowForward } from \"react-icons/io5\";\r\nimport axios from \"axios\";\r\n\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\n\r\nimport { RootState } from \"../redux/store\";\r\nimport { PostState } from \"../redux/reducers/post\";\r\n\r\nconst Carousel = () => {\r\n  const [images, setImages] = useState<string[]>([]);\r\n  const sliderRef = useRef<Slider>(null);\r\n\r\n  const post = useSelector((state: RootState) => state.post);\r\n  const posts = useSelector((state: RootState) => state.posts);\r\n  const profile = useSelector((state: RootState) => state.profile);\r\n\r\n  const { postId } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // post\r\n    let data: PostState | undefined = post;\r\n\r\n    // posts\r\n    if (data.images.length === 0 || postId !== data.id) {\r\n      data = posts.find((post) => post.id === postId);\r\n    }\r\n\r\n    // profile\r\n    if (!data) {\r\n      data = profile.posts.find((post) => post.id === postId);\r\n    }\r\n\r\n    if (data) {\r\n      setImages(data.images);\r\n    }\r\n  }, [post, postId, posts, profile.posts]);\r\n\r\n  const settings = {\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToScroll: 1,\r\n    slidesToShow: 1,\r\n    swipe: true,\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-20 bg-black\">\r\n      <button\r\n        className=\"absolute top-0 left-0 m-2 z-20\"\r\n        onClick={() => navigate(-1)}\r\n      >\r\n        <IoClose className=\"text-white\" size={30} />\r\n      </button>\r\n\r\n      {images.length > 1 && (\r\n        <button\r\n          className=\"absolute left-0 top-1/2 -translate-y-1/2 z-20 m-2\"\r\n          onClick={() => sliderRef.current?.slickPrev()}\r\n        >\r\n          <IoArrowBack className=\"text-white\" size={20} />\r\n        </button>\r\n      )}\r\n\r\n      <Slider ref={sliderRef} {...settings}>\r\n        {images.map((src, idx) => (\r\n          <li key={src + idx}>\r\n            <img src={`${axios.defaults.baseURL}/${src}`} alt=\"postImage\" />\r\n          </li>\r\n        ))}\r\n      </Slider>\r\n\r\n      {images.length > 1 && (\r\n        <button\r\n          className=\"absolute right-0 top-1/2 -translate-y-1/2 z-20 m-2\"\r\n          onClick={() => sliderRef.current?.slickNext()}\r\n        >\r\n          <IoArrowForward className=\"text-white\" size={20} />\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Carousel;\r\n"],"names":["_a","useState","images","setImages","sliderRef","useRef","post","useSelector","state","posts","profile","postId","useParams","navigate","useNavigate","useEffect","data","length","id","find","React","className","onClick","IoClose","size","current","slickPrev","IoArrowBack","Slider","_extends","ref","infinite","speed","slidesToScroll","slidesToShow","swipe","map","src","idx","key","concat","axios","defaults","baseURL","alt","slickNext","IoArrowForward"],"sourceRoot":""}