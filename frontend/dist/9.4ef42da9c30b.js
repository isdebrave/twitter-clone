"use strict";(self.webpackChunktwitter_clone=self.webpackChunktwitter_clone||[]).push([[9],{9127:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(7294);const a=function(e){var t=e.onClick,r=e.label,a=e.bold,l=e.icon,o=e.bgColor,s=e.textColor,c=e.hoverColor,i=e.large,u=e.disabled,m=e.fit;return n.createElement("button",{disabled:u,onClick:t,className:"\n        ".concat(i?"py-3":"py-2","\n        px-5 \n        flex \n        flex-row \n        justify-center\n        items-center \n        border-2\n        rounded-full \n        ").concat(m?"w-fit":"w-full","\n        transition\n        ").concat(o,"\n        ").concat(s,"\n        ").concat(c,"\n      ")},l&&n.createElement(l,{size:26,className:"mr-2"}),n.createElement("span",{className:"\n          ".concat(i?"text-lg":"text-base","\n          ").concat(a?"font-semibold":"font-normal","\n        ")},r))}},5539:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(7294);const a=function(e){var t=e.onClick,r=e.imagesCount,a=e.children;return 1===r||2===r?n.createElement("div",{onClick:t,className:"\n          ".concat(2===r&&"h-[280px]","\n          flex \n          gap-1 \n          border \n          rounded-2xl \n          overflow-hidden \n          border-slate-300\n          hover:bg-sky-100\n          cursor-pointer\n        ")},a):n.createElement("div",{onClick:t,className:"\r h-[280px] \r grid \r grid-rows-2 \r grid-flow-col \r gap-1 \r border\r rounded-2xl \r overflow-hidden \r border-slate-300\r hover:bg-sky-100\r cursor-pointer\r "},a)}},6355:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(7294),a=r(7473);const l=function(e){var t=e.size,r=e.fixed,l=e.absolute,o=e.text;return n.createElement("div",{className:"\n        ".concat(r&&"fixed","\n        ").concat(r&&"inset-0","\n        ").concat(r&&"bg-neutral-800/70","\n        ").concat(l&&"absolute","\n        ").concat(l&&"h-full","\n        z-50\n        w-full\n        flex\n        flex-col\n        justify-center \n        items-center \n      ")},n.createElement(a.Z,{color:"lightblue",size:t}),o&&n.createElement("span",{className:"".concat(r&&"text-white")},"Loading..."))}},9562:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(7294),a=r(9250),l=r(5998),o=r(5539),s=r(4801),c=r(9338);const i=function(e){var t=e.body,r=e.imagesCount,i=e.images,u=e.imagesHeight,m=void 0===u?"":u,d=(0,a.s0)(),f=(0,l.v9)((function(e){return e.post})),p=(0,s.Z)();return n.createElement(n.Fragment,null,n.createElement("p",{className:"text-gray-600 mb-3"},t),i.length>0&&n.createElement(o.Z,{onClick:function(e){if(e.stopPropagation(),f){var t="/".concat(f.user.id,"/status/").concat(f.id,"/photo");return d(t)}if(p.post)return t="/".concat(p.post.user.id,"/status/").concat(p.post.id,"/photo"),d(t)},imagesCount:r},i.map((function(e,t){return n.createElement("div",{key:e+t,className:"\n                w-full \n                ".concat(m.length>0?m:"h-full","\n                flex\n                ").concat(3===i.length&&0===t&&"row-span-2","\n              ")},n.createElement("img",{src:(0,c.rd)(e),alt:"BodyImage",className:"w-full object-cover"}))}))))}},9488:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(7294),a=r(9250),l=r(9655),o=r(5998),s=r(155),c=r(1257),i=r(2898),u=r(9338),m=r(4801),d=r(3324);const f=function(e){var t=e.href,r=e.profileImage,f=e.username,p=e.userId,v=e.noEllipsis,g=(0,n.useState)(!1),b=g[0],h=g[1],E=(0,m.Z)(),y=(0,o.v9)((function(e){return e.me})),x=(0,o.v9)((function(e){return e.post})),w=(0,a.s0)(),N=(0,o.I0)();return(0,n.useEffect)((function(){var e=function(){return h(!1)};return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}}),[]),n.createElement("div",{className:"flex items-center gap-3"},n.createElement(l.rU,{to:t},n.createElement("div",{className:"\r w-[40px] \r h-[40px] \r flex\r rounded-full \r overflow-hidden \r hover:brightness-90 \r transition\r ",onClick:E.onClose},n.createElement("img",{src:(0,u.rd)(r),alt:"ProfileImage",className:"w-full object-cover"}))),n.createElement("div",{className:"flex flex-col flex-auto relative"},n.createElement(l.rU,{to:t,className:"w-fit",onClick:E.onClose},n.createElement("span",{className:"font-bold hover:underline"},f)),n.createElement("span",{className:"text-gray-500"},"@",p.slice(0,10)),y.id===p&&n.createElement(n.Fragment,null,!v&&n.createElement("div",{onClick:(0,i.E)((function(){return h(!0)})),className:"\r absolute \r -top-1 \r right-0\r p-2 \r rounded-full \r text-gray-600 \r hover:text-sky-500 \r hover:bg-sky-100\r cursor-pointer\r "},n.createElement(s.Ppk,{size:18})),b&&n.createElement("div",{onClick:function(e){return e.stopPropagation(),c.default.delete("/post",{data:{postId:x.id}}),N((0,d.XQ)({postId:x.id})),w("/home")},className:"\r absolute\r -top-1 \r right-0\r py-3 \r px-2\r rounded-xl \r bg-white \r text-red-500\r flex\r items-center\r font-semibold\r hover:bg-slate-100\r w-[300px]\r gap-2\r cursor-pointer\r ",style:{boxShadow:"0 0 5px rgba(0, 0, 0, 0.2)"}},n.createElement(s.L_o,{size:18}),n.createElement("span",null,"Delete")))))}},5612:(e,t,r)=>{r.d(t,{$l:()=>o,Am:()=>n,Ay:()=>u,GW:()=>a,It:()=>d,Oz:()=>i,Yy:()=>m,dS:()=>s,kt:()=>c,yw:()=>l});var n="bg-sky-500 border-sky-500",a="bg-black",l="bg-white",o="text-sky-500",s="text-black",c="text-white",i="hover:bg-sky-100",u="hover:border-sky-600 hover:bg-sky-600",m="hover:bg-neutral-300/40",d="hover:opacity-80"},2898:(e,t,r)=>{r.d(t,{E:()=>n});var n=function(e){return function(t){t.stopPropagation(),e()}}},9338:(e,t,r)=>{r.d(t,{Nf:()=>o,od:()=>l,rd:()=>a});var n=r(582),a=function(e){return 0===e.length?"/images/anonymous.jpg":(console.log(e),"https://source.unsplash.com/random/300×300")},l=function(e,t,r,a){var l=e.target.files;if(l){if(a&&l.length+a.length>4)return n.ZP.error("최대 4개까지 선택 가능합니다.");for(var o=0;o<l.length;o++){t(l[o]);var s=new FileReader;s.readAsDataURL(l[o]),s.onload=function(e){e.target&&r(e.target.result)}}}},o=function(e,t,r,n,a,l){if(t.current&&(t.current.value=""),l&&a){var o=parseInt(e.target.getAttribute("data-idx")||"",10);return r(a.filter((function(e,t){return t!==o}))),void n(l.filter((function(e,t){return t!==o})))}r(),n()}},4801:(e,t,r)=>{r.d(t,{Z:()=>n});const n=(0,r(270).Ue)((function(e){return{isOpen:!1,post:null,onOpen:function(){return e({isOpen:!0})},onClose:function(){return e({isOpen:!1})},onPost:function(t){return e({post:t})}}}))},5914:(e,t,r)=>{r.d(t,{Z:()=>n});const n=(0,r(270).Ue)((function(e){return{isOpen:!1,onOpen:function(){return e({isOpen:!0})},onClose:function(){return e({isOpen:!1})}}}))},7685:(e,t,r)=>{r.d(t,{Z:()=>n});const n=(0,r(270).Ue)((function(e){return{isOpen:!1,onOpen:function(){return e({isOpen:!0})},onClose:function(){return e({isOpen:!1})}}}))},9673:(e,t,r)=>{r.d(t,{Z:()=>n});const n=(0,r(270).Ue)((function(e){return{isOpen:!1,onOpen:function(){return e({isOpen:!0})},onClose:function(){return e({isOpen:!1})}}}))},2605:(e,t,r)=>{r.d(t,{Z:()=>i}),r(6265);var n=r(7294),a=r(7536),l=r(5998),o=r(1257),s=r(9204),c=r(582);const i=function(e,t){void 0===t&&(t="POST");var r=(0,l.v9)((function(e){return e.me})),i=(0,n.useRef)(null),u=(0,n.useRef)(null),m=(0,n.useState)([]),d=m[0],f=m[1],p=(0,n.useState)([]),v=p[0],g=p[1],b=(0,n.useState)(""),h=b[0],E=b[1],y=(0,n.useState)(null),x=y[0],w=y[1],N=(0,n.useState)(""),C=N[0],I=N[1],k=(0,n.useState)(null),O=k[0],S=k[1],j=(0,l.I0)(),P=(0,a.cI)(),F=P.register,Z=P.watch,A=P.handleSubmit,R=P.setValue,T=P.clearErrors,z=P.formState.errors;(0,n.useEffect)((function(){var t=!0;for(var r in e)if(""!==e[r]){t=!1;break}if(!t)for(var r in e)R(r,e[r])}),[e,R]);var U=function(){for(var t in f([]),g([]),E(""),w(null),I(""),S(null),e)T(t),R(t,e[t])};return{imagesInputRef:i,coverImageInputRef:u,imagesPreview:d,setImagesPreview:f,imageFiles:v,setImageFiles:g,coverImagePreview:h,setCoverImagePreview:E,profileImagePreview:C,setProfileImagePreview:I,coverImage:x,setCoverImage:w,profileImage:O,setProfileImage:S,register:F,errors:z,handleSubmit:A,keyDownHandler:function(e){var t=document.querySelector("textarea");t.style.height="auto";var r=e.target.scrollHeight;t.style.maxHeight="450px",t.style.height=r+"px"},onSubmit:function(e){return n=void 0,a=void 0,i=function(){var n,a,l,i,u,m,d,f,p,g,b,h,E,y,w,N;return function(e,t){var r,n,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,s[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(C){switch(C.label){case 0:if(n=e.data,a=e.fetchUrl,l=e.actionArray,i=e.shouldCommentAlert,u=void 0!==i&&i,m=e.onClose,d=e.post,f=e.errorMessage,"body"in n&&0===n.body.length&&f)return[2,c.ZP.error(f)];for(p=new FormData,g=0,b=v;g<b.length;g++)h=b[g],p.append("bodyImages",h);d&&p.append("postId",d.id),x&&p.append("coverImage",x),O&&p.append("profileImage",O),p.append("data",JSON.stringify(n)),C.label=1;case 1:return C.trys.push([1,5,,6]),"POST"!==t?[3,3]:(l.forEach((function(e){return j(e())})),U(),m&&m(),[4,o.default.post(a,p)]);case 2:return E=C.sent(),l.forEach((function(e){return j(e(E.data))})),u&&d&&o.default.post("/notification",{body:"".concat(r.username," 님이 ").concat(d.id.slice(0,10)," 포스트에 댓글을 작성했습니다."),userId:d.user.id}),[3,4];case 3:o.default.patch(a,p),l.forEach((function(e){return j(e())})),U(),m&&m(),C.label=4;case 4:return[3,6];case 5:return(y=C.sent())instanceof s.d7&&(console.log(y),c.ZP.error(null===(w=y.response)||void 0===w?void 0:w.data),500===(null===(N=y.response)||void 0===N?void 0:N.status))?[2,alert(y.response.data)]:[3,6];case 6:return[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function r(e){try{s(i.next(e))}catch(e){t(e)}}function o(e){try{s(i.throw(e))}catch(e){t(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof l?n:new l((function(e){e(n)}))).then(r,o)}s((i=i.apply(n,a||[])).next())}));var n,a,l,i},resetAll:U,watchAllFields:Z()}}},7314:(e,t,r)=>{r.d(t,{Z:()=>n});const n=(0,r(270).Ue)((function(e){return{isOpen:!1,onOpen:function(){return e({isOpen:!0})},onClose:function(){return e({isOpen:!1})}}}))},8759:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(1257);const a=function(e){return n.default.get(e).then((function(e){return e.data}))}},4009:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ge});var n=r(7294),a=r(582),l=r(9250),o=r(5998),s=r(2919),c=r(2045),i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)},u=(0,s.i)("SyncLoader","33% {transform: translateY(10px)}\n  66% {transform: translateY(-10px)}\n  100% {transform: translateY(0)}","sync");const m=function(e){var t=e.loading,r=void 0===t||t,a=e.color,l=void 0===a?"#000000":a,o=e.speedMultiplier,s=void 0===o?1:o,m=e.cssOverride,d=void 0===m?{}:m,f=e.size,p=void 0===f?15:f,v=e.margin,g=void 0===v?2:v,b=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),h=i({display:"inherit"},d),E=function(e){return{backgroundColor:l,width:(0,c.E)(p),height:(0,c.E)(p),margin:(0,c.E)(g),borderRadius:"100%",display:"inline-block",animation:"".concat(u," ").concat(.6/s,"s ").concat(.07*e,"s infinite ease-in-out"),animationFillMode:"both"}};return r?n.createElement("span",i({style:h},b),n.createElement("span",{style:E(1)}),n.createElement("span",{style:E(2)}),n.createElement("span",{style:E(3)})):null};r(6265);var d=r(7536),f=r(155),p=r(1649),v=r(1257),g=r(9204);const b=function(e){var t=e.isOpen,r=e.onClose,a=e.step,l=e.title,o=e.body,s=e.footer,c=e.icon,i=e.reset;return t?n.createElement("div",{className:"\r fixed \r z-20 \r inset-0 \r flex\r justify-center \r items-center \r bg-neutral-800/70\r "},n.createElement("div",{className:"\r relative\r z-30 \r w-full \r h-full \r mx-auto \r lg:max-w-2xl \r lg:w-1/2 \r lg:h-auto\r "},n.createElement("div",{className:"\r bg-white \r h-full \r flex \r flex-col \r py-4 \r lg:rounded-2xl \r lg:shadow-lg\r "},n.createElement("div",{className:"flex flex-row items-center mb-5 gap-7 relative"},n.createElement("button",{onClick:function(){i&&(a?1===a&&i():i()),r()},className:"z-10 ml-3 p-2 rounded-full hover:bg-neutral-300/40 cursor-pointer"},n.createElement(c,{size:22})),l?"string"==typeof l?n.createElement("h4",{className:"text-xl font-bold"},l):n.createElement("h4",{className:"text-xl font-bold absolute w-full flex justify-center"},n.createElement(l,{size:30})):null),o,s))):null};var h=r(9127),E=r(6355);const y=function(e){var t=e.title,r=e.subtitle,a=e.large,l=e.bold;return n.createElement(n.Fragment,null,n.createElement("div",{className:"\n          ".concat(a?"text-3xl":"text-base","\n          ").concat(l?"font-bold":"font-medium","\n       ")},t),r&&n.createElement("div",{className:"mt-1 leading-5 text-gray-600"},r))};function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x.apply(this,arguments)}const w=function(e){var t,r,a,l=e.id,o=e.type,s=e.label,c=e.register,i=e.required,u=e.pattern,m=e.errors,d=void 0===m?{}:m,f=e.validatedBadge,v=e.onClick,g=e.value;return n.createElement("div",{className:"relative"},n.createElement("input",x({id:l,type:o,onClick:v},c(l,{required:i,pattern:u}),{value:g,placeholder:"",className:"\n          peer\n          border \n          p-1\n          pt-6\n          pl-4\n          w-full\n          rounded-md\n          outline-none\n          focus:border-2\n          text-lg\n          ".concat(d[l]&&"border-rose-500","\n          ").concat(d[l]?"focus:border-rose-500":"focus:border-sky-500","\n        ")})),(null===(t=d[l])||void 0===t?void 0:t.message)&&n.createElement("span",{className:"text-rose-500"},null===(a=null===(r=d[l])||void 0===r?void 0:r.message)||void 0===a?void 0:a.toString()),n.createElement("label",{htmlFor:l,className:"\n          absolute\n          text-gray-500\n          top-4\n          left-4\n          scale-75\n          -translate-y-4\n          origin-left\n          peer-placeholder-shown:scale-100\n          peer-placeholder-shown:translate-y-0\n          peer-focus:scale-75\n          peer-focus:-translate-y-4\n          transition\n          ".concat(d[l]&&"text-rose-500","\n          ").concat(d[l]?"peer-focus:text-rose-500":"peer-focus:text-sky-500","\n          cursor-text\n          select-none\n        ")},s),f&&n.createElement("div",{className:"absolute right-0 bottom-0 bg-green-500 rounded-full m-2"},n.createElement(p.jsx,{size:20,color:"white"})))};function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N.apply(this,arguments)}const C=function(e){var t=e.id,r=e.options,a=e.label,l=e.register,o=e.required,s=e.errors,c=void 0===s?{}:s,i=e.value;return n.createElement("div",{className:"relative grow"},n.createElement("select",N({id:t},l(t,{required:o}),{value:i,className:"\n          peer \n          w-full\n          border-2\n          rounded-md\n          outline-none \n          focus:border-sky-500 \n          cursor-pointer \n          pt-7 \n          appearance-none\n          p-2\n          ".concat(c[t]&&"border-rose-500","\n          ").concat(c[t]&&"focus:border-rose-500","\n        ")}),n.createElement("option",{disabled:!0}),r.map((function(e){return n.createElement("option",{key:e},e)}))),n.createElement("div",{className:"\n          absolute\n          right-0 \n          top-1/2 \n          -translate-y-1/2 \n          px-2 \n          peer-focus:text-sky-500 \n          cursor-pointer\n          ".concat(c[t]&&"text-rose-500","\n          ").concat(c[t]&&"peer-focus:text-rose-500","\n        ")},n.createElement(f.CgR,{size:30})),n.createElement("label",{htmlFor:t,className:"\n          absolute \n          left-0 \n          m-2 \n          text-gray-500 \n          text-sm \n          peer-focus:text-sky-500\n          ".concat(c[t]&&"text-rose-500","\n          ").concat(c[t]&&"peer-focus:text-rose-500","\n        ")},a))};for(var I={value:/^[가-힣]{2,4}|[a-zA-Z]{2,10}\s[a-zA-Z]{2,10}$/,message:"올바른 이름을 적어주세요."},k={value:/^[0-9]{3}[-]+[0-9]{4}[-]+[0-9]{4}$/,message:"올바른 휴대폰 번호를 입력해 주세요."},O={value:/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/,message:"올바른 이메일을 입력해 주세요."},S=[],j=1;j<=12;j++)S.push(j+"월");var P=[];for(j=1;j<=31;j++)P.push(j+"");var F=[];for(j=(new Date).getFullYear();j>=1903;j--)F.push(j+"");const Z=function(e){var t=e.isEmail,r=(e.onEmail,e.name),a=e.id,l=e.month,o=e.day,s=e.year,c=e.register,i=e.errors,u=e.setError,m=e.clearErrors,d=(0,n.useState)(P),f=d[0],p=d[1];return(0,n.useEffect)((function(){var e=a,r=new RegExp(O.value);m("id"),t&&r.test(e)&&v.default.post("/auth/email/exist",{id:a}).catch((function(e){var t;e instanceof g.d7&&u("id",{message:null===(t=e.response)||void 0===t?void 0:t.data})}))}),[t,a,m,u]),(0,n.useEffect)((function(){switch(l){case"2월":p(+s%4==0?P.slice(0,-2):P.slice(0,-3));break;case"4월":case"6월":case"9월":case"11월":p(P.slice(0,-1));break;default:p(P)}}),[l,s]),n.createElement("div",{className:"flex flex-col gap-5"},n.createElement(y,{title:"계정을 생성하세요",large:!0,bold:!0}),n.createElement(w,{id:"name",label:"이름",register:c,errors:i,required:!0,pattern:I,value:r}),n.createElement(w,{id:"id",label:t?"이메일":"휴대폰",register:c,errors:i,required:!0,pattern:t?O:k,value:a}),n.createElement("div",{className:"mb-20"},n.createElement(y,{title:"생년월일",subtitle:"\n            이 정보는 공개적으로 표시되지 않습니다.\n            비즈니스, 반려동물 등 계정 주제에 상관없이 나의 연령을 확인하세요.\n          ",bold:!0}),n.createElement("div",{className:"flex flex-row w-full gap-3 mt-5"},n.createElement(C,{id:"month",options:S,label:"월",register:c,required:!0,errors:i,value:l}),n.createElement(C,{id:"day",options:f,label:"일",register:c,required:!0,errors:i,value:o}),n.createElement(C,{id:"year",options:F,label:"년",register:c,required:!0,errors:i,value:s}))))};var A=r(9655);function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R.apply(this,arguments)}const T=function(e){var t=e.register,r=e.setValue,a=e.year,l=e.month,o=e.day;return(0,n.useEffect)((function(){r("birth","".concat(a,". ").concat(l.slice(0,-1),". ").concat(o))}),[r,a,l,o]),n.createElement("div",{className:"flex flex-col gap-5"},n.createElement(y,{title:"트위터 환경을 맞춤 설정하세요",large:!0,bold:!0}),n.createElement("h4",{className:"mt-3 text-xl font-semibold"},"웹에서 내가 X의 콘텐츠를 보는 위치를 기록합니다"),n.createElement("div",{className:"flex leading-5 text-gray-500"},n.createElement("p",null,"X는 이 데이터를 이용해 맞춤 경험을 제공합니다. 이 웹 탐색 내역을 저장할 때 내 이름, 이메일, 휴대폰 번호는 절대 포함되지 않습니다."),n.createElement("div",{className:"ml-2"},n.createElement("input",R({type:"checkbox"},t("checked"),{className:"w-[20px] h-[20px] cursor-pointer"})))),n.createElement("p",{className:"mt-5 mb-20 text-gray-500"},"가입하면 X의"," ",n.createElement(A.rU,{to:"#",className:"text-sky-500 hover:underline"},"이용약관"),","," ",n.createElement(A.rU,{to:"#",className:"text-sky-500 hover:underline"},"개인정보 처리방침")," ","및"," ",n.createElement(A.rU,{to:"#",className:"text-sky-500 hover:underline"},"쿠키 사용"),"에 동의하게 됩니다. X에서는 개인정보 처리방침에 명시된 목적에 따라 이메일 주소 및 전화번호 등 내 연락처 정보를 사용할 수 있습니다."," ",n.createElement(A.rU,{to:"#",className:"text-sky-500 hover:underline"},"자세히 알아보기")))},z=function(e){var t=e.isEmail,r=e.name,a=e.id,l=e.birth,o=e.register,s=e.onClick;return n.createElement("div",{className:"flex flex-col gap-5"},n.createElement(y,{title:"계정을 생성하세요",large:!0,bold:!0}),n.createElement(w,{id:"name",label:"이름",register:o,validatedBadge:!0,onClick:s,value:r}),n.createElement(w,{id:"id",label:t?"이메일":"휴대폰",register:o,validatedBadge:!0,onClick:s,value:a}),n.createElement(w,{id:"birth",label:"생년월일",register:o,validatedBadge:!0,onClick:s,value:l}),n.createElement("p",{className:"mt-20 mb-6 text-xs text-gray-500"},"가입하면"," ",n.createElement(A.rU,{to:"#",className:"text-sky-500 hover:underline"},"쿠키 사용"),"을 포함해"," ",n.createElement(A.rU,{to:"#",className:"text-sky-500 hover:underline"},"이용약관")," ","및"," ",n.createElement(A.rU,{to:"#",className:"text-sky-500 hover:underline"},"개인정보 처리방침"),"에 동의하게 됩니다. X는 계정을 안전하게 보호하고 광고를 포함한 맞춤 서비스를 제공하는 등 X 개인정보 처리방침에 명시된 목적을 위해 이메일 주소 및 전화번호 등의 내 연락처 정보를 사용할 수 있습니다."," ",n.createElement(A.rU,{to:"#",className:"text-sky-500 hover:underline"},"자세히 알아보기"),". 이메일 또는 전화번호를 제공하시면 다른 사람들이 이 정보로 내 계정을 찾을 수 있게 됩니다. 해당 정보를 제공하지 않으시려면"," ",n.createElement(A.rU,{to:"#",className:"text-sky-500 hover:underline"},"여기"),"에서 변경하세요."))},U=function(e){var t=e.id,r=e.register,l=e.isEmail,o=e.errors,s=(0,n.useCallback)((function(e){e&&a.ZP.success("다시 보내드렸습니다.\n잠시 후 확인해보세요."),v.default.post(l?"/auth/email":"/auth/phone",{id:t}).catch((function(e){return console.log(e)}))}),[t,l]);(0,n.useEffect)((function(){s()}),[s]);var c=n.createElement("p",{className:"ml-2 mt-1 mb-20"},"이메일을 받지 못했으면"," ",n.createElement("button",{className:"text-sky-500 hover:underline cursor-pointer text-sm",onClick:s.bind(null,!0)},"여기"),"를 눌러주세요."),i=n.createElement("p",{className:"ml-2 mt-1 mb-20"},"SMS을 받지 못했으면"," ",n.createElement("button",{className:"text-sky-500 hover:underline cursor-pointer text-sm",onClick:s.bind(null,!0)},"여기"),"를 눌러주세요.");return n.createElement("div",{className:"flex flex-col"},n.createElement("div",{className:"mb-8"},n.createElement(y,{title:"코드를 보내 드렸습니다",subtitle:"".concat(t," 인증을 위해 아래에 입력하세요."),large:!0,bold:!0})),n.createElement(w,{id:"code",label:"인증 코드",register:r,errors:o,required:!0}),l?c:i)};var D={value:/^.{8,}$/,message:"비밀번호는 최소 8자 이상이어야 합니다. 더 긴 비밀번호를 입력하세요."};const H=function(e){var t=e.register,r=e.errors,a=e.password;return n.createElement("div",{className:"flex flex-col mb-20"},n.createElement("div",{className:"mb-8"},n.createElement(y,{title:"비밀번호가 필요합니다",subtitle:"8자 이상이어야 합니다.",large:!0,bold:!0})),n.createElement(w,{id:"password",label:"비밀번호",register:t,errors:r,required:!0,pattern:D,value:a}))};var q=r(5612),M=r(9673),G=r(5914),L=r(8842),V=r(8759);const B=function(){var e=(0,l.s0)(),t=(0,L.Z)("/user/me",V.Z,{onError:function(t){if(console.log(t),localStorage.removeItem("auth"),500===t.response.status)return alert(t.response.data);e("/auth")}});return{data:t.data,mutate:t.mutate}};var X;!function(e){e[e.FIRST=1]="FIRST",e[e.SECOND=2]="SECOND",e[e.THIRD=3]="THIRD",e[e.FOURTH=4]="FOURTH",e[e.FIFTH=5]="FIFTH"}(X||(X={}));const Y=function(){var e=(0,n.useState)(!1),t=e[0],r=e[1],o=(0,n.useState)(!0),s=o[0],c=o[1],i=(0,n.useState)(X.FIRST),u=i[0],m=i[1],y=B().mutate,x=(0,M.Z)(),w=(0,G.Z)(),N=(0,l.s0)(),C=(0,d.cI)({defaultValues:{name:"",id:"",month:"",day:"",year:"",birth:"",code:"",password:"",checked:!1}}),I=C.register,k=C.watch,O=C.setValue,S=C.setError,j=C.clearErrors,P=C.reset,F=C.handleSubmit,A=C.formState.errors,R=k(),D=n.createElement(n.Fragment,null);u===X.FIRST&&(D=n.createElement("div",{className:"px-10 lg:px-20"},n.createElement(Z,{isEmail:s,onEmail:function(){return c((function(e){return!e}))},name:R.name,id:R.id,month:R.month,day:R.day,year:R.year,register:I,errors:A,setError:S,clearErrors:j}))),u===X.SECOND&&(D=n.createElement("div",{className:"px-10 lg:px-20"},n.createElement(T,{register:I,setValue:O,year:R.year,month:R.month,day:R.day}))),u===X.THIRD&&(D=n.createElement("div",{className:"px-10 lg:px-20"},n.createElement(z,{isEmail:s,name:R.name,id:R.id,birth:R.birth,register:I,onClick:function(){return m(X.FIRST)}}))),u===X.FOURTH&&(D=n.createElement("div",{className:"px-10 lg:px-20"},n.createElement(U,{id:R.id,register:I,isEmail:s,errors:A}))),u===X.FIFTH&&(D=n.createElement("div",{className:"px-10 lg:px-20"},n.createElement(H,{register:I,errors:A,password:R.password})));var L=n.createElement("div",{className:"px-10 lg:px-20"},n.createElement(h.Z,{onClick:F((function(e){return t=void 0,n=void 0,o=function(){var t,n,l,o;return function(e,t){var r,n,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,s[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(s){switch(s.label){case 0:if(u===X.SECOND&&!e.checked)return[2,a.Am.error("체크 박스를 눌러주세요.")];if(u!==X.FOURTH)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,v.default.post("/auth/email/code",{code:e.code})];case 2:return s.sent(),[3,4];case 3:return(t=s.sent())instanceof g.d7&&(console.log(t),a.Am.error(null===(l=null==t?void 0:t.response)||void 0===l?void 0:l.data)),[2];case 4:if(u!==X.FIFTH)return[2,m((function(e){return e+1}))];s.label=5;case 5:return s.trys.push([5,8,,9]),r(!0),[4,v.default.post("/auth/register",e)];case 6:return s.sent(),[4,y()];case 7:return s.sent(),r(!1),x.onClose(),localStorage.setItem("auth","true"),N("/home"),[3,9];case 8:return(n=s.sent())instanceof g.d7&&(console.log(n),a.Am.error(null===(o=null==n?void 0:n.response)||void 0===o?void 0:o.data),r(!1)),[3,9];case 9:return[2]}}))},new((l=void 0)||(l=Promise))((function(e,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof l?r:new l((function(e){e(r)}))).then(a,s)}c((o=o.apply(t,n||[])).next())}));var t,n,l,o})),bgColor:u!==X.THIRD?q.GW:q.Am,textColor:q.kt,hoverColor:u!==X.THIRD?q.It:q.Ay,label:u!==X.THIRD?"다음":"가입",large:!0,bold:!0}),n.createElement("p",{className:"mt-3 text-center"},"이미 계정이 있으신가요?"," ",n.createElement("button",{onClick:function(){x.onClose(),w.onOpen(),m(X.FIRST),P()},className:"text-sky-500 hover:underline"},"로그인")));return n.createElement(n.Fragment,null,t&&n.createElement(E.Z,{size:80,fixed:!0,text:!0}),n.createElement(b,{isOpen:x.isOpen,onClose:u===X.FIRST?x.onClose:function(){return m((function(e){return e-1}))},icon:u===X.FIRST?f.bjh:p.UkU,step:u,title:"5단계 중 ".concat(u,"단계"),body:D,footer:L,reset:P}))};var $=r(8193),W=r(1872),J=r(3750);const _=function(){var e=(0,n.useState)(!1),t=e[0],r=e[1],o=B().mutate,s=(0,G.Z)(),c=(0,M.Z)(),i=(0,l.s0)(),u=(0,d.cI)({defaultValues:{id:"",password:""}}),m=u.register,p=u.watch,x=u.reset,N=u.handleSubmit,C=u.formState.errors,I=p(),k=n.createElement("div",{className:"px-10 lg:px-20"},n.createElement("div",{className:"flex flex-col gap-5 lg:px-10"},n.createElement(y,{title:"Twitter 로그인하기",large:!0,bold:!0}),n.createElement("div",{className:"flex flex-col"},n.createElement("div",{className:"space-y-3 mb-3"},n.createElement(A.rU,{to:"".concat(v.default.defaults.baseURL,"/auth/google"),className:"block"},n.createElement(h.Z,{onClick:function(){return localStorage.setItem("auth","true")},icon:W.JM8,bgColor:q.yw,textColor:q.dS,hoverColor:q.Yy,label:"Google 계정으로 로그인"})),n.createElement(A.rU,{to:"".concat(v.default.defaults.baseURL,"/auth/github"),className:"block"},n.createElement(h.Z,{onClick:function(){return localStorage.setItem("auth","true")},icon:$.idJ,bgColor:q.yw,textColor:q.dS,hoverColor:q.Yy,label:"Github에서 로그인"}))),n.createElement("div",{className:"relative mb-3"},n.createElement("div",{className:"absolute inset-0 flex flex-row items-center"},n.createElement("div",{className:"w-full border-t border-gray-200"})),n.createElement("div",{className:"relative flex justify-center"},n.createElement("span",{className:"bg-white px-2 text-lg text-gray-600"},"또는"))),n.createElement("div",{className:"mb-20 space-y-3"},n.createElement(w,{id:"id",label:"이메일 주소",register:m,errors:C,required:!0,value:I.id}),n.createElement(w,{id:"password",label:"비밀번호",type:"password",register:m,errors:C,required:!0,value:I.password}))))),O=n.createElement("div",{className:"px-10 lg:px-20 space-y-3"},n.createElement(h.Z,{onClick:N((function(e){return t=void 0,n=void 0,c=function(){var t,n;return function(e,t){var r,n,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,s[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),r(!0),[4,v.default.post("/auth/login",e)];case 1:return l.sent(),[4,o()];case 2:return l.sent(),r(!1),s.onClose(),localStorage.setItem("auth","true"),i("/home"),[3,4];case 3:return(t=l.sent())instanceof g.d7&&(console.log(t),a.ZP.error(null===(n=t.response)||void 0===n?void 0:n.data),r(!1)),[3,4];case 4:return[2]}}))},new((l=void 0)||(l=Promise))((function(e,r){function a(e){try{s(c.next(e))}catch(e){r(e)}}function o(e){try{s(c.throw(e))}catch(e){r(e)}}function s(t){var r;t.done?e(t.value):(r=t.value,r instanceof l?r:new l((function(e){e(r)}))).then(a,o)}s((c=c.apply(t,n||[])).next())}));var t,n,l,c})),bgColor:q.GW,textColor:q.kt,hoverColor:q.It,label:"다음",large:!0,bold:!0}),n.createElement("p",{className:"text-center"},"계정이 없으신가요?"," ",n.createElement("button",{onClick:function(){s.onClose(),c.onOpen(),x()},className:"text-sky-500 hover:underline"},"가입하기")));return n.createElement(n.Fragment,null,t&&n.createElement(E.Z,{size:80,fixed:!0,text:!0}),n.createElement(b,{isOpen:s.isOpen,onClose:s.onClose,title:J.AMt,body:k,footer:O,icon:f.bjh,reset:x}))};var K=r(9338),Q=r(7685),ee=r(2605),te=r(5017),re=r(4818),ne=r(3324),ae=r(1133);const le=function(){var e=(0,o.v9)((function(e){return e.profile})),t=(0,n.useMemo)((function(){return{username:e.username,bio:e.bio}}),[e]),r=(0,ee.Z)(t,"PATCH"),a=r.coverImageInputRef,l=r.coverImagePreview,s=r.setCoverImagePreview,c=r.profileImagePreview,i=r.setProfileImagePreview,u=r.setCoverImage,m=r.profileImage,d=r.setProfileImage,p=r.register,v=r.errors,g=r.handleSubmit,E=r.onSubmit,y=r.resetAll,x=r.watchAllFields,N=(0,Q.Z)(),C=function(e,t){return e.length>0?e:(0,K.rd)(t)},k=n.createElement("div",{className:"w-full h-44 flex justify-center items-center relative"},n.createElement("div",{className:"absolute bg-gray-400 w-full h-full"},(l.length>0||e.coverImage.length>0)&&n.createElement("div",{className:"w-full h-full flex"},n.createElement("img",{src:C(l,e.coverImage),alt:"coverImage",className:"w-full object-cover brightness-75"}))),n.createElement("label",{htmlFor:"coverImage",className:"\r relative \r bg-slate-600 \r p-2 \r rounded-full \r hover:opacity-80 \r cursor-pointer\r "},n.createElement(f.oI3,{size:30,color:"white"})),n.createElement("input",{ref:a,type:"file",id:"coverImage",name:"coverImage",hidden:!0,accept:"image/*",onChange:function(e){return(0,K.od)(e,(function(e){return u(e)}),(function(e){return s(e)}))}}),l.length>0&&n.createElement("div",{className:"\r relative \r ml-8 \r bg-slate-600 \r p-2 \r rounded-full \r hover:opacity-80 \r cursor-pointer\r ",onClick:function(e){return(0,K.Nf)(e,a,(function(){return u(null)}),(function(){return s("")}))}},n.createElement(f.bjh,{size:30,color:"white"}))),O=n.createElement("div",{className:"\r w-[120px] \r h-[120px] \r border-4 \r border-white \r rounded-full \r relative\r -translate-y-1/3\r translate-x-4\r "},n.createElement("div",{className:"w-full h-full flex"},n.createElement("img",{src:C(c,e.profileImage),alt:"ProfileImage",className:"w-full rounded-full object-cover brightness-75"})),n.createElement("div",{className:"\r absolute \r top-0 \r left-0 \r w-full \r h-full \r flex \r justify-center \r items-center\r "},n.createElement("label",{htmlFor:"profileImage",className:"\r flex\r w-fit\r bg-slate-600 \r p-2 \r rounded-full \r hover:opacity-80 \r cursor-pointer\r "},n.createElement(f.oI3,{size:30,color:"white"})),n.createElement("input",{type:"file",id:"profileImage",name:"profileImage",hidden:!0,accept:"image/*",onChange:function(e){return(0,K.od)(e,(function(e){return d(e)}),(function(e){return i(e)}))}}))),S=n.createElement("form",{encType:"multipart/form-data"},k,O),j=[];j.push(te.VG.bind(null,{coverImage:l,profileImage:c,username:x.username,bio:x.bio})),m&&(j.push(re.ky.bind(null,{profileImage:c})),j.push(ne.Eu.bind(null,{profileImage:c,userId:e.id})),j.push(ae.n7.bind(null,{profileImage:c})));var P=n.createElement("div",{className:"px-4 space-y-4"},n.createElement(w,{id:"username",label:"username",register:p,errors:v,pattern:I,required:!0,value:x.username||""}),n.createElement(w,{id:"bio",label:"bio",register:p,errors:v,value:x.bio||""}),n.createElement("div",{className:"flex justify-end"},n.createElement(h.Z,{onClick:g((function(t){return E({data:t,fetchUrl:"/user/profile/".concat(e.id),actionArray:j,onClose:N.onClose})})),bgColor:q.GW,textColor:q.kt,hoverColor:q.It,label:"Save",bold:!0,fit:!0})));return n.createElement(b,{isOpen:N.isOpen,onClose:N.onClose,icon:f.bjh,title:"Edit profile",body:S,footer:P,reset:y})};var oe=r(5434),se=r(7314);function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ce.apply(this,arguments)}var ie=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,l=t.length;a<l;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};const ue=function(){var e=(0,o.v9)((function(e){return e.me})),t=(0,n.useMemo)((function(){return{body:""}}),[]),r=(0,ee.Z)(t),a=r.handleSubmit,l=r.imageFiles,s=r.imagesPreview,c=r.register,i=r.setImageFiles,u=r.setImagesPreview,m=r.keyDownHandler,d=r.imagesInputRef,p=r.onSubmit,v=r.resetAll,g=r.watchAllFields,E=(0,se.Z)(),y=n.createElement("div",{className:"px-6"},n.createElement("div",{className:"flex gap-3 mb-4"},n.createElement("div",{className:"w-[40px] h-[40px] flex rounded-full overflow-hidden"},n.createElement("img",{src:(0,K.rd)(e.profileImage),alt:"ProfileImage",className:"w-full object-cover"})),n.createElement("textarea",ce({placeholder:"What is happening?!"},c("body"),{rows:2,className:"\r flex-auto \r resize-none \r outline-none \r text-xl \r placeholder-gray-500\r ",onKeyDown:m}))),n.createElement("hr",{className:"my-3"})),x=[],w={id:Date.now(),body:g.body,images:s,views:0,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),userId:e.id,likedIds:[],user:{id:e.id,profileImage:e.profileImage,username:e.username},comments:[],totalCommentsCount:0};x.push((function(e){return(0,ne.Kv)({options:w,data:e})})),x.push((function(e){return(0,te.vR)({options:w,data:e})}));var N=n.createElement("div",{className:"px-6"},n.createElement("form",{encType:"multipart/form-data",className:"flex justify-between items-center"},n.createElement("label",{htmlFor:"bodyImages",className:"block p-2 rounded-full hover:bg-sky-100 cursor-pointer"},n.createElement(oe.mxp,{className:"text-sky-500",size:24})),n.createElement("input",{ref:d,type:"file",id:"bodyImages",name:"bodyImages",hidden:!0,multiple:!0,accept:"image/*",onChange:function(e){return(0,K.od)(e,(function(e){return i((function(t){return ie(ie([],t,!0),[e],!1)}))}),(function(e){return u((function(t){return ie(ie([],t,!0),[e],!1)}))}),l)}}),n.createElement(h.Z,{onClick:a((function(e){return p({data:e,fetchUrl:"/post",actionArray:x,onClose:E.onClose,errorMessage:"포스트를 작성해주세요."})})),bgColor:q.Am,textColor:q.kt,hoverColor:q.Ay,label:"Post",bold:!0,fit:!0})),s.length>0&&n.createElement(n.Fragment,null,n.createElement("hr",{className:"my-3"}),n.createElement("div",{className:"flex gap-3"},s.map((function(e,t){return n.createElement("div",{key:e+t,className:"w-[50px] h-[50px] flex cursor-pointer",onClick:function(e){return(0,K.Nf)(e,d,(function(e){return i(e)}),(function(e){return u(e)}),l,s)}},n.createElement("img",{"data-idx":t,src:e,alt:"BodyImages",className:"w-full object-cover"}))})))));return n.createElement(b,{isOpen:E.isOpen,onClose:E.onClose,icon:f.bjh,body:y,footer:N,reset:v})};var me=r(9562),de=r(9488),fe=r(4801);function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pe.apply(this,arguments)}const ve=function(){var e=(0,o.v9)((function(e){return e.me})),t=(0,n.useMemo)((function(){return{body:""}}),[]),r=(0,ee.Z)(t),a=r.handleSubmit,l=r.register,s=r.keyDownHandler,c=r.onSubmit,i=r.resetAll,u=r.watchAllFields,m=(0,fe.Z)(),d=m.post;if(d){var p=n.createElement("div",{className:"px-6"},n.createElement("div",{className:"flex flex-col"},n.createElement("div",{className:"mb-3"},n.createElement("div",{className:"mb-3"},n.createElement(de.Z,{href:"/".concat(d.user.id),profileImage:d.user.profileImage,username:d.user.username,userId:d.user.id,noEllipsis:!0})),n.createElement("div",{className:"mb-3 ml-14"},n.createElement(me.Z,{body:d.body,imagesCount:d.images.length,images:d.images,imagesHeight:"h-[40vh]"}))),n.createElement("div",{className:"flex gap-3 mb-4"},n.createElement("div",{className:"w-[40px] h-[40px] flex rounded-full overflow-hidden"},n.createElement("img",{src:(0,K.rd)(e.profileImage),alt:"ProfileImage",className:"w-full object-cover"})),n.createElement("textarea",pe({placeholder:"Add another post"},l("body"),{rows:2,className:"\r flex-auto\r resize-none\r outline-none\r text-xl\r placeholder-gray-500\r ",onKeyDown:s}))))),v=[],g={id:Date.now(),body:u.body,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),userId:e.id,postId:d.id,user:{id:e.id,profileImage:e.profileImage,username:e.username}};v.push((function(e){return(0,ae.sA)({options:g,data:e})})),v.push((function(e){return(0,ne.oq)({options:g,data:e})})),v.push((function(e){return(0,te.CN)({options:g,data:e})}));var E=n.createElement("div",{className:"px-6"},n.createElement("form",{encType:"multipart/form-data",className:"flex justify-end items-center"},n.createElement(h.Z,{onClick:a((function(t){return c({data:t,fetchUrl:"/post/".concat(d.id,"/comment"),actionArray:v,shouldCommentAlert:d.user.id!==e.id,onClose:m.onClose,post:d,errorMessage:"댓글을 작성해주세요."})})),bgColor:q.Am,textColor:q.kt,hoverColor:q.Ay,label:"Post",bold:!0,fit:!0})));return n.createElement(b,{isOpen:m.isOpen,onClose:m.onClose,icon:f.bjh,body:p,footer:E,reset:i})}},ge=function(){var e=B().data,t=(0,o.v9)((function(e){return e.me})),r=(0,o.I0)();if((0,n.useEffect)((function(){e&&0===t.id.length&&r((0,re.v)(e))}),[e,r,t.id.length]),void 0!==e)return e?localStorage.setItem("auth","true"):localStorage.removeItem("auth"),n.createElement(n.Fragment,null,n.createElement(a.x7,null),n.createElement(Y,null),n.createElement(_,null),n.createElement(le,null),n.createElement(ue,null),n.createElement(ve,null),n.createElement(n.Suspense,{fallback:n.createElement("div",{className:"flex flex-col items-center justify-center w-full h-full gap-5"},n.createElement(m,null),n.createElement("span",{className:"font-semibold"},"페이지 가져오는 중..."))},n.createElement(l.j3,null)))}},7473:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(7294),a=r(2045),l=r(2919),o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},s=(0,l.i)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");const c=function(e){var t=e.loading,r=void 0===t||t,l=e.color,c=void 0===l?"#000000":l,i=e.speedMultiplier,u=void 0===i?1:i,m=e.cssOverride,d=void 0===m?{}:m,f=e.size,p=void 0===f?35:f,v=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["loading","color","speedMultiplier","cssOverride","size"]),g=o({background:"transparent !important",width:(0,a.E)(p),height:(0,a.E)(p),borderRadius:"100%",border:"2px solid",borderTopColor:c,borderBottomColor:"transparent",borderLeftColor:c,borderRightColor:c,display:"inline-block",animation:"".concat(s," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},d);return r?n.createElement("span",o({style:g},v)):null}},2919:(e,t,r)=>{r.d(t,{i:()=>n});var n=function(e,t,r){var n="react-spinners-".concat(e,"-").concat(r);if("undefined"==typeof window||!window.document)return n;var a=document.createElement("style");document.head.appendChild(a);var l=a.sheet,o="\n    @keyframes ".concat(n," {\n      ").concat(t,"\n    }\n  ");return l&&l.insertRule(o,0),n}},2045:(e,t,r)=>{r.d(t,{E:()=>a});var n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function a(e){var t=function(e){if("number"==typeof e)return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();t=r.includes(".")?parseFloat(r):parseInt(r,10);var a=(e.match(/[^0-9]*$/)||"").toString();return n[a]?{value:t,unit:a}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}},9204:(e,t,r)=>{r.d(t,{d7:()=>l});var n=r(1257);const{Axios:a,AxiosError:l,CanceledError:o,isCancel:s,CancelToken:c,VERSION:i,all:u,Cancel:m,isAxiosError:d,spread:f,toFormData:p,AxiosHeaders:v,HttpStatusCode:g,formToJSON:b,getAdapter:h,mergeConfig:E}=n.default}}]);