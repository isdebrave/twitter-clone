"use strict";(self.webpackChunktwitter_clone=self.webpackChunktwitter_clone||[]).push([[172],{9127:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(7294);const l=function(e){var t=e.onClick,n=e.label,l=e.bold,a=e.icon,o=e.bgColor,c=e.textColor,s=e.hoverColor,i=e.large,u=e.disabled,f=e.fit;return r.createElement("button",{disabled:u,onClick:t,className:"\n        ".concat(i?"py-3":"py-2","\n        px-5 \n        flex \n        flex-row \n        justify-center\n        items-center \n        border-2\n        rounded-full \n        ").concat(f?"w-fit":"w-full","\n        transition\n        ").concat(o,"\n        ").concat(c,"\n        ").concat(s,"\n      ")},a&&r.createElement(a,{size:26,className:"mr-2"}),r.createElement("span",{className:"\n          ".concat(i?"text-lg":"text-base","\n          ").concat(l?"font-semibold":"font-normal","\n        ")},n))}},5612:(e,t,n)=>{n.d(t,{$l:()=>o,Am:()=>r,Ay:()=>u,GW:()=>l,It:()=>m,Oz:()=>i,Yy:()=>f,dS:()=>c,kt:()=>s,yw:()=>a});var r="bg-sky-500 border-sky-500",l="bg-black",a="bg-white",o="text-sky-500",c="text-black",s="text-white",i="hover:bg-sky-100",u="hover:border-sky-600 hover:bg-sky-600",f="hover:bg-neutral-300/40",m="hover:opacity-80"},2898:(e,t,n)=>{n.d(t,{E:()=>r});var r=function(e){return function(t){t.stopPropagation(),e()}}},9338:(e,t,n)=>{n.d(t,{Nf:()=>o,od:()=>a,rd:()=>l});var r=n(582),l=function(e){return 0===e.length?"/images/anonymous.jpg":(console.log(e),e)},a=function(e,t,n,l){var a=e.target.files;if(a){if(l&&a.length+l.length>4)return r.ZP.error("최대 4개까지 선택 가능합니다.");for(var o=0;o<a.length;o++){t(a[o]);var c=new FileReader;c.readAsDataURL(a[o]),c.onload=function(e){e.target&&n(e.target.result)}}}},o=function(e,t,n,r,l,a){if(t.current&&(t.current.value=""),a&&l){var o=parseInt(e.target.getAttribute("data-idx")||"",10);return n(l.filter((function(e,t){return t!==o}))),void r(a.filter((function(e,t){return t!==o})))}n(),r()}},6618:(e,t,n)=>{n.d(t,{H:()=>r,J:()=>l});var r=function(e,t,n,r){if(t(n)&&n!==r){var l=e.target,a=l.children[0];a&&(a.textContent="Unfollow",l.classList.add("hover:border-rose-200"),l.classList.add("hover:bg-rose-100"),l.classList.add("hover:text-red-500"))}},l=function(e){var t=e.target,n=t.children[0];t.classList.remove("hover:border-rose-200"),t.classList.remove("hover:bg-rose-100"),t.classList.remove("hover:text-red-500"),n&&"Unfollow"===n.textContent&&(n.textContent="Following")}},3695:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(5998),l=n(1257),a=n(9204),o=n(5017),c=n(4818);const s=function(){var e=(0,r.v9)((function(e){return e.me})),t=(0,r.I0)(),n=function(t){return!!e.followingIds.includes(t)};return{isFollowing:n,followHandler:function(r){var s,i=r.followerId,u=r.profileId;try{n(i)?(l.default.delete("/user/follow",{data:{followerId:i}}),t((0,o.ox)({meId:e.id,followerId:i,profileId:u})),t((0,c.ad)({followerId:i}))):(l.default.post("/user/follow",{followerId:i}),t((0,o.wC)({meId:e.id,followerId:i,profileId:u})),t((0,c.RK)({followerId:i})))}catch(e){if(console.log(e),e instanceof a.d7&&500===(null===(s=e.response)||void 0===s?void 0:s.status))return alert(e.response.data)}}}}},7314:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(0,n(270).Ue)((function(e){return{isOpen:!1,onOpen:function(){return e({isOpen:!0})},onClose:function(){return e({isOpen:!1})}}}))},8759:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(1257);const l=function(e){return r.default.get(e).then((function(e){return e.data}))}},3172:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var r=n(7294),l=n(9250),a=n(6653),o=n(9583),c=n(6225),s=n(5998),i=n(3750);const u=function(e){var t=e.icon,n=e.faIcon,a=e.label,o=e.href,c=e.alert,s=(0,l.s0)(),u=(0,l.TH)();return r.createElement("button",{onClick:function(){return s(o)},className:"\r p-3 \r rounded-full \r hover:bg-neutral-300/40 \r w-fit \r cursor-pointer \r flex \r items-center \r gap-4 \r text-xl\r relative\r "},u.pathname===o?r.createElement(n,{size:32}):r.createElement(t,{size:32}),c?r.createElement(i.riV,{className:"text-sky-500 absolute -top-4 left-1",size:60}):null,r.createElement("span",{className:"\n          hidden \n          lg:block\n          ".concat(u.pathname===o&&"font-bold","\n        ")},a))};var f=n(9655);const m=function(){return r.createElement(f.rU,{to:"/home",className:"block p-3 rounded-full hover:bg-neutral-300/40 w-fit"},r.createElement(i.AMt,{size:30}))};var d=n(155),p=n(1257);const v=function(e){var t=e.userId,n=e.top;return r.createElement("div",{className:"\n        z-10\n        py-3 \n        rounded-2xl \n        absolute \n        w-[300px] \n        bg-white \n        ".concat(n?"bottom-20":"top-14","\n        ").concat(n?"":"-left-3","\n      "),style:{boxShadow:"0 0 5px rgba(0, 0, 0, 0.2)"}},r.createElement("div",{style:{borderTop:n?"15px solid white":"0px solid transparent",borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderBottom:n?"0px solid transparent":"15px solid white",position:"absolute",bottom:n?"-10px":"",top:n?"":"-10px",left:"22px",filter:n?"drop-shadow(0 6px 4px rgba(0, 0, 0, 0.1))":"drop-shadow(0 -6px 4px rgba(0, 0, 0, 0.1))"}}),r.createElement("button",{onClick:function(){return localStorage.removeItem("auth")},className:"w-full text-start"},r.createElement(f.rU,{to:"".concat(p.default.defaults.baseURL,"/auth/logout"),className:"block p-2 hover:bg-neutral-300/40 px-3"},r.createElement("span",{className:"font-bold"},"Log out @",t))))};var x=n(9338);const h=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1],l=(0,s.v9)((function(e){return e.me}));return r.createElement("div",{className:"relative"},t&&r.createElement(v,{userId:l.id.slice(0,10),top:!0}),r.createElement("button",{onClick:function(){return n((function(e){return!e}))},className:"\r flex \r flex-row \r items-center \r w-full\r gap-3 \r hover:bg-neutral-300/40 \r rounded-full \r p-3\r cursor-pointer\r lg:py-2 \r lg:px-4 \r "},r.createElement("div",{className:"w-[40px] h-[40px] flex rounded-full overflow-hidden"},r.createElement("img",{src:(0,x.rd)(l.profileImage),alt:"ProfileImage",referrerPolicy:"no-referrer",className:"w-full object-cover"})),r.createElement("div",{className:"hidden lg:flex flex-col items-start"},r.createElement("span",{className:"text-start font-bold w-[120px] overflow-hidden whitespace-nowrap"},l.username),r.createElement("span",{className:"text-gray-500"},"@",l.id.slice(0,10))),r.createElement("div",{className:"hidden lg:block ml-auto"},r.createElement(d.Ppk,null))))};var g=n(6893),b=n(5612),E=n(9127),w=n(7314);const N=function(){var e=(0,w.Z)();return r.createElement(r.Fragment,null,r.createElement("button",{onClick:e.onOpen,className:"\n            p-3 \n            rounded-full \n            hover:bg-neutral-300/40 \n            w-fit \n            cursor-pointer \n            flex \n            items-center \n            gap-4 \n            text-xl\n            ".concat(b.Am,"\n            ").concat(b.kt,"\n            ").concat(b.Ay,"\n            lg:hidden\n        ")},r.createElement(g.fxx,{size:32})),r.createElement("div",{className:"hidden lg:block"},r.createElement(E.Z,{onClick:e.onOpen,bgColor:b.Am,textColor:b.kt,hoverColor:b.Ay,label:"Post",large:!0,bold:!0})))},y=function(){var e=(0,s.v9)((function(e){return e.me})),t=[{icon:a.iB,faIcon:a.Noz,label:"Home",href:"/home"},{icon:a.a4h,faIcon:o.U41,label:"Explore",href:"/explore"},{icon:a.r$n,faIcon:a.G9c,label:"Notifications",href:"/notifications",alert:e.hasNotification},{icon:c.SEt,faIcon:c.eDU,label:"Profile",href:"/".concat(e.id)}];return r.createElement("div",{className:"\r z-10\r sm:fixed\r sm:w-[88px] \r lg:w-[300px]\r h-full\r flex \r flex-col \r justify-between \r px-3\r py-2 \r "},r.createElement("div",{className:"lg:pr-8 space-y-2"},r.createElement(m,null),r.createElement("div",null,t.map((function(e){return r.createElement(u,{key:e.label,icon:e.icon,faIcon:e.faIcon,label:e.label,href:e.href,alert:e.alert})}))),r.createElement(N,null)),r.createElement("div",{className:"lg:pr-2"},r.createElement(h,null)))};var k=n(6618),I=n(2898),C=n(8842),z=n(8759);var L=n(3695),U=n(4536);const A=function(){var e=function(){var e=(0,C.Z)("/user/followLists",z.Z,{onError:function(e){if(console.log(e),500===e.response.status)return alert(e.response.data)}});return{data:e.data,mutate:e.mutate}}().data,t=(0,L.Z)(),n=t.isFollowing,a=t.followHandler,o=(0,s.v9)((function(e){return e.followList})),c=(0,s.v9)((function(e){return e.profile})),i=(0,l.s0)(),u=(0,s.I0)();return(0,r.useEffect)((function(){e&&u((0,U.gs)(e))}),[e,u]),r.createElement("div",{className:"sticky top-3 ml-8 my-3 py-3 rounded-lg bg-gray-100"},r.createElement("h3",{className:"font-bold text-xl px-3 mb-5"},"Who to follow"),0===o.length?r.createElement("span",{className:"block text-neutral-500 text-center p-6 text-xl"},"추천 리스트가 없습니다."):r.createElement(r.Fragment,null,o.map((function(e){return r.createElement("div",{key:e.id,onClick:function(){return i(e.id)},className:"px-3 py-2 flex items-center gap-3 hover:bg-gray-200 cursor-pointer"},r.createElement("div",{className:"w-[40px] h-[40px] flex rounded-full overflow-hidden"},r.createElement("img",{src:(0,x.rd)(e.profileImage),alt:"UserImage",className:"w-full object-cover"})),r.createElement("div",{className:"flex items-center flex-1"},r.createElement("div",{className:"flex flex-col"},r.createElement("span",{className:"font-bold w-[120px] overflow-hidden whitespace-nowrap"},e.username),r.createElement("span",{className:"text-gray-500"},"@",e.id.slice(0,10))),r.createElement("div",{className:"ml-auto"},r.createElement("button",{onMouseEnter:function(t){return(0,k.H)(t,n,e.id)},onMouseLeave:k.J,onClick:(0,I.E)((function(){return a({followerId:e.id,profileId:0===c.id.length?e.id:c.id})})),className:"\n                      py-2\n                      px-5 \n                      flex \n                      flex-row \n                      justify-center\n                      items-center \n                      border-2\n                      rounded-full \n                      w-fit\n                      transition\n                      ".concat(b.GW,"\n                      ").concat(b.kt,"\n                      ").concat(b.It,"\n                    ")},r.createElement("span",null,n(e.id)?"Following":"Follow")))))}))))},j=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1],l=(0,s.v9)((function(e){return e.me}));return r.createElement("div",{className:"relative flex flex-col justify-center"},t&&r.createElement(v,{userId:l.id.slice(0,10)}),r.createElement("div",{onClick:function(){return n((function(e){return!e}))},className:"w-[36px] h-[36px] flex rounded-full overflow-hidden cursor-pointer"},r.createElement("img",{src:(0,x.rd)(l.profileImage),alt:"ProfileImage",className:"w-full object-cover"})))},Z=function(){return r.createElement("div",{className:"absolute left-1/2 -translate-x-1/2"},r.createElement(f.rU,{to:"/home",className:"block p-3 rounded-full hover:bg-neutral-300/40 w-fit"},r.createElement(i.AMt,{size:20})))},F=function(){var e=(0,w.Z)();return r.createElement("div",{className:"fixed right-3 bottom-16"},r.createElement("button",{onClick:e.onOpen,className:"\n          p-3 \n          rounded-full \n          hover:bg-neutral-300/40 \n          w-fit \n          cursor-pointer \n          flex \n          items-center \n          gap-4 \n          text-xl\n          ".concat(b.Am,"\n          ").concat(b.kt,"\n          ").concat(b.Ay,"\n        ")},r.createElement(g.fxx,{size:30})))},P=function(){var e=(0,s.v9)((function(e){return e.me})),t=(0,l.s0)(),n=(0,l.TH)(),u=[{icon:a.iB,faIcon:a.Noz,href:"/home"},{icon:a.a4h,faIcon:o.U41,href:"/explore"},{icon:a.r$n,faIcon:a.G9c,href:"/notifications",alert:e.hasNotification},{icon:c.SEt,faIcon:c.eDU,label:"Profile",href:"/".concat(e.id)}];return r.createElement("div",{className:"fixed bg-white left-0 bottom-0 w-full border-t"},r.createElement("div",{className:"flex flex-row justify-between px-10 py-2"},u.map((function(e){return r.createElement("button",{key:e.href,onClick:function(){return t(e.href)},className:"relative"},n.pathname===e.href?r.createElement(e.faIcon,{size:32}):r.createElement(e.icon,{size:32}),e.alert?r.createElement(i.riV,{className:"text-sky-500 absolute -bottom-[1px] -left-2",size:60}):null)}))))},H=function(e){var t=e.children,n=(0,l.TH)();return r.createElement("div",{className:"\r h-full \r sm:grid \r sm:grid-cols-3 \r lg:grid-cols-4 \r lg:px-24 \r relative\r "},r.createElement("div",{className:"\r hidden \r h-full \r sm:block \r sm:col-span-1 \r sm:justify-self-end \r sm:w-[88px] \r lg:w-[300px] \r border-r\r "},r.createElement(y,null)),"/home"===n.pathname&&r.createElement("div",{className:"sm:hidden flex items-center py-3 px-6 relative"},r.createElement(j,null),r.createElement(Z,null)),r.createElement("div",{className:"sm:col-span-2 sm:border-r"},t),r.createElement("div",{className:"hidden lg:block lg:col-span-1 w-[350px]"},r.createElement(A,null)),r.createElement("div",{className:"sm:hidden"},r.createElement(F,null),r.createElement(P,null)))},O=function(){return localStorage.getItem("auth")?r.createElement(H,null,r.createElement(l.j3,null)):r.createElement(l.Fg,{to:"/auth"})}}}]);